<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>银行后台模拟系统</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
        input { margin: 5px; padding: 8px; width: 200px; }
        button { padding: 10px 20px; margin: 10px; cursor: pointer; }
        #dashboard, #transactions, #history { display: none; }
        table { width: 80%; margin: 10px auto; border-collapse: collapse; }
        th, td { border: 1px solid black; padding: 8px; text-align: center; }
    </style>
</head>
<body>

    <h2>银行后台模拟系统</h2>

    <div id="login">
        <label>用户名: <input id="username" type="text"></label><br>
        <label>密码: <input id="password" type="password"></label><br>
        <button onclick="login()">登录</button>
        <p id="login-message"></p>
    </div>

    <div id="dashboard">
        <h3>欢迎, <span id="user"></span></h3>
        <button onclick="showTransactionPanel()">进行交易</button>
        <button onclick="showTransactionHistory()">查看交易记录</button>
        <button onclick="logout()">退出</button>
    </div>

    <div id="transactions">
        <h3>交易系统</h3>
        <label>交易金额: <input id="amount" type="number"></label><br>
        <button onclick="makeTransaction()">提交交易</button>
        <p id="transaction-message"></p>
    </div>

    <div id="history">
        <h3>交易记录</h3>
        <table>
            <thead>
                <tr>
                    <th>用户</th>
                    <th>金额</th>
                    <th>时间</th>
                </tr>
            </thead>
            <tbody id="history-table"></tbody>
        </table>
    </div>

    <script>
        let users = { "admin": "admin123", "user1": "pass1", "user2": "pass2" };
        let transactions = [];

        function login() {
            let username = document.getElementById("username").value;
            let password = document.getElementById("password").value;
            
            if (users[username] && users[username] === password) {
                document.getElementById("login").style.display = "none";
                document.getElementById("dashboard").style.display = "block";
                document.getElementById("user").innerText = username;
            } else {
                document.getElementById("login-message").innerText = "登录失败，用户名或密码错误！";
            }
        }

        function showTransactionPanel() {
            document.getElementById("transactions").style.display = "block";
            document.getElementById("history").style.display = "none";
        }

        function makeTransaction() {
            let amount = parseFloat(document.getElementById("amount").value);
            let username = document.getElementById("user").innerText;

            if (isNaN(amount) || amount <= 0) {
                document.getElementById("transaction-message").innerText = "请输入有效的交易金额！";
                return;
            }

            if (amount > 10000) {
                document.getElementById("transaction-message").innerText = "交易失败：超过最大交易限制（10000元）！";
                return;
            }

            transactions.push({ user: username, amount: amount, timestamp: new Date().toLocaleString() });
            document.getElementById("transaction-message").innerText = "交易成功！金额: " + amount + " 元";
        }

        function showTransactionHistory() {
            document.getElementById("transactions").style.display = "none";
            document.getElementById("history").style.display = "block";
            
            let historyTable = document.getElementById("history-table");
            historyTable.innerHTML = "";

            transactions.forEach(t => {
                let row = `<tr><td>${t.user}</td><td>${t.amount}</td><td>${t.timestamp}</td></tr>`;
                historyTable.innerHTML += row;
            });
        }

        function logout() {
            document.getElementById("dashboard").style.display = "none";
            document.getElementById("transactions").style.display = "none";
            document.getElementById("history").style.display = "none";
            document.getElementById("login").style.display = "block";
            document.getElementById("login-message").innerText = "";
        }
    </script>

</body>
</html>
